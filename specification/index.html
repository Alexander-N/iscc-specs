
<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Draft Specification of International Standard Content Codes">
      
      
        <link rel="canonical" href="http://iscc.codes/specification/">
      
      
        <meta name="author" content="Titusz Pan">
      
      
        <link rel="shortcut icon" href="../images/favicon.png">
      
      <meta name="generator" content="mkdocs-0.16.3, mkdocs-material-1.7.4">
    
    
      
        <title>ISCC - Specification</title>
      
    
    
      <script src="../assets/javascripts/modernizr-1df76c4e58.js"></script>
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application-769c285a91.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-02c2a4388f.palette.css">
      
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open Sans:300,400,400i,700|Ubuntu+Mono">
        <style>body,input{font-family:"Open Sans","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Ubuntu Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
  
  
  
    <body data-md-color-primary="blue" data-md-color-accent="red">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <a href="http://iscc.codes" title="ISCC - Content Identifiers" class="md-logo md-header-nav__button">
            <img src="../images/logo-white.svg" width="24" height="24">
          </a>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
            
            Specification (Draft)
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" required placeholder="Search" accesskey="s" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset">close</button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result" data-md-lang-search="">
          <div class="md-search-result__meta" data-md-lang-result-none="No matching documents" data-md-lang-result-one="1 matching document" data-md-lang-result-other="# matching documents">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/coblo/iscc-specs" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      coblo/iscc-specs
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    
      <i class="md-logo md-nav__button">
        <img src="../images/logo-white.svg">
      </i>
    
    ISCC - Content Identifiers
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/coblo/iscc-specs" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      coblo/iscc-specs
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../concept/" title="Concept" class="md-nav__link">
      Concept
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Specification (Draft)
      </label>
    
    <a href="./" title="Specification (Draft)" class="md-nav__link md-nav__link--active">
      Specification (Draft)
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#abstract" title="Abstract" class="md-nav__link">
    Abstract
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#note-to-readers" title="Note to Readers" class="md-nav__link">
    Note to Readers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#about-this-document" title="About this Document" class="md-nav__link">
    About this Document
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conventions-and-terminology" title="Conventions and Terminology" class="md-nav__link">
    Conventions and Terminology
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#definitions" title="Definitions" class="md-nav__link">
    Definitions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduction" title="Introduction" class="md-nav__link">
    Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iscc-structure" title="ISCC Structure" class="md-nav__link">
    ISCC Structure
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#components" title="Components" class="md-nav__link">
    Components
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#component-types" title="Component types" class="md-nav__link">
    Component types
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#meta-id" title="Meta-ID" class="md-nav__link">
    Meta-ID
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generate-meta-id" title="Generate Meta-ID" class="md-nav__link">
    Generate Meta-ID
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dealing-with-collisions" title="Dealing with collisions" class="md-nav__link">
    Dealing with collisions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#content-id" title="Content-ID" class="md-nav__link">
    Content-ID
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#content-id-types" title="Content-ID Types" class="md-nav__link">
    Content-ID Types
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#partial-content-flag-pcf" title="Partial Content Flag (PCF)" class="md-nav__link">
    Partial Content Flag (PCF)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#content-id-text" title="Content-ID-Text" class="md-nav__link">
    Content-ID-Text
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-id" title="Data-ID" class="md-nav__link">
    Data-ID
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#instance-id" title="Instance-ID" class="md-nav__link">
    Instance-ID
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#procedures-algorithms" title="Procedures &amp; Algorithms" class="md-nav__link">
    Procedures &amp; Algorithms
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#normalize-text" title="Normalize Text" class="md-nav__link">
    Normalize Text
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#normalize-creators" title="Normalize Creators" class="md-nav__link">
    Normalize Creators
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tokenize-text" title="Tokenize Text" class="md-nav__link">
    Tokenize Text
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#footnotes" title="Footnotes" class="md-nav__link">
    Footnotes
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../contributing/" title="Contributing" class="md-nav__link">
      Contributing
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../license/" title="License" class="md-nav__link">
      License
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#abstract" title="Abstract" class="md-nav__link">
    Abstract
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#note-to-readers" title="Note to Readers" class="md-nav__link">
    Note to Readers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#about-this-document" title="About this Document" class="md-nav__link">
    About this Document
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conventions-and-terminology" title="Conventions and Terminology" class="md-nav__link">
    Conventions and Terminology
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#definitions" title="Definitions" class="md-nav__link">
    Definitions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduction" title="Introduction" class="md-nav__link">
    Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iscc-structure" title="ISCC Structure" class="md-nav__link">
    ISCC Structure
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#components" title="Components" class="md-nav__link">
    Components
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#component-types" title="Component types" class="md-nav__link">
    Component types
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#meta-id" title="Meta-ID" class="md-nav__link">
    Meta-ID
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generate-meta-id" title="Generate Meta-ID" class="md-nav__link">
    Generate Meta-ID
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dealing-with-collisions" title="Dealing with collisions" class="md-nav__link">
    Dealing with collisions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#content-id" title="Content-ID" class="md-nav__link">
    Content-ID
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#content-id-types" title="Content-ID Types" class="md-nav__link">
    Content-ID Types
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#partial-content-flag-pcf" title="Partial Content Flag (PCF)" class="md-nav__link">
    Partial Content Flag (PCF)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#content-id-text" title="Content-ID-Text" class="md-nav__link">
    Content-ID-Text
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-id" title="Data-ID" class="md-nav__link">
    Data-ID
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#instance-id" title="Instance-ID" class="md-nav__link">
    Instance-ID
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#procedures-algorithms" title="Procedures &amp; Algorithms" class="md-nav__link">
    Procedures &amp; Algorithms
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#normalize-text" title="Normalize Text" class="md-nav__link">
    Normalize Text
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#normalize-creators" title="Normalize Creators" class="md-nav__link">
    Normalize Creators
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tokenize-text" title="Tokenize Text" class="md-nav__link">
    Tokenize Text
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#footnotes" title="Footnotes" class="md-nav__link">
    Footnotes
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/coblo/iscc-specs/edit/master/docs/specification.md" title="Edit this page" class="md-icon md-content__icon">edit</a>
                
                
                <h1 id="iscc-specification-draft">ISCC - Specification Draft<a class="headerlink" href="#iscc-specification-draft" title="Permanent link">&para;</a></h1>
<div class="admonition danger">
<p class="admonition-title">Warning</p>
<p>This document is a work in progress draft! It may be updated, replaced, or obsoleted by other documents at any time. This document must not be used as reference material or cited other than as "work in progress".</p>
</div>
<h2 id="abstract">Abstract<a class="headerlink" href="#abstract" title="Permanent link">&para;</a></h2>
<p>The <strong>International Standard Content Code</strong> (ISCC), is an open and decentralized digital media identifier. An ISCC can be created from digital content and its basic metadata by anybody who follows the procedures of the ISCC specification or by using open source software that supports ISCC creation conforming to the ISCC specification.</p>
<h2 id="note-to-readers">Note to Readers<a class="headerlink" href="#note-to-readers" title="Permanent link">&para;</a></h2>
<p>For public discussion of issues for this draft please use the Github issue tracker: <a href="https://github.com/coblo/iscc-specs/issues">https://github.com/coblo/iscc-specs/issues</a>.</p>
<p>The latest published version of this draft can be found at <a href="http://iscc.codes/specification/">http://iscc.codes/specification/</a>. </p>
<p>Public discussion and contributions are welcome.</p>
<h2 id="about-this-document">About this Document<a class="headerlink" href="#about-this-document" title="Permanent link">&para;</a></h2>
<p>This document proposes an open and vendor neutral ISCC standard and describes the technical procedures to create and manage ISCC identifiers. It is produced by the <a href="https://content-blockchain.org">Content Blockchain Project</a> and it aimed to become the definitive guide to the ISCC standard for technical implementors. The content is determined by its authors in an open consensus process.</p>
<h2 id="conventions-and-terminology">Conventions and Terminology<a class="headerlink" href="#conventions-and-terminology" title="Permanent link">&para;</a></h2>
<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a href="https://tools.ietf.org/html/rfc2119">RFC 2119</a> [RFC2119].</p>
<h2 id="definitions">Definitions<a class="headerlink" href="#definitions" title="Permanent link">&para;</a></h2>
<dl>
<dt><abbr title="Generic Media Type">GMT</abbr></dt>
<dd>Generic Media Type: A basic digital content type such as UTF-8 encoded plain text or raw pixel data.</dd>
<dt>ISCC</dt>
<dd>International Standard Content Code</dd>
<dt><abbr title="Base32 encoded representation of an ISCC">ISCC Code</abbr></dt>
<dd>The base32 encoded representation of an ISCC</dd>
<dt><abbr title="Raw binary data of an ISCC">ISCC Digest</abbr></dt>
<dd>The raw binary data of an ISCC</dd>
<dt><abbr title="Integer representation of an ISCC">ISCC ID</abbr></dt>
<dd>The integer representation of an ISCC</dd>
</dl>
<h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">&para;</a></h2>
<p>The ISCC aims to permanently identify the content of a given digital media object at multiple levels of <em>granularity</em>. It is algorithmically generated from basic metadata and the contents of the digital media object which it identifies. It is designed for being registered and stored on a public decentralized blockchain. An ISCC for a media object can be created by anybody, not just by the author or publisher of a content or by a centralized registrar. By itself the ISCC does not make any statement or claim about authorship or ownership of the identified content.</p>
<h2 id="iscc-structure">ISCC Structure<a class="headerlink" href="#iscc-structure" title="Permanent link">&para;</a></h2>
<p>The <abbr title="Raw binary data of an ISCC">ISCC Digest</abbr> is a fixed size sequence of 32 bytes (256 bits) assembled from multiple sub-components. The printable <abbr title="Base32 encoded representation of an ISCC">ISCC Code</abbr> is an <a href="https://tools.ietf.org/html/rfc4648#section-6">RFC 4648</a> base32<sup id="fnref:base32"><a class="footnote-ref" href="#fn:base32" rel="footnote">1</a></sup> encoded string representation of an <abbr title="Raw binary data of an ISCC">ISCC Digest</abbr>. This is a high-level overview of the ISCC creation process:</p>
<p><img alt="iscc-creation-process" src="../images/iscc-creation-process.svg" /></p>
<h3 id="components">Components<a class="headerlink" href="#components" title="Permanent link">&para;</a></h3>
<p>The <abbr title="Raw binary data of an ISCC">ISCC Digest</abbr> is built from multiple self-describing 64-bit components:</p>
<table>
<thead>
<tr>
<th align="left">Components:</th>
<th align="left">Meta-ID</th>
<th align="left">Content-ID</th>
<th align="left">Data-ID</th>
<th align="left">Instance-ID</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><strong>Context:</strong></td>
<td align="left">Intangible creation</td>
<td align="left">Content similarity</td>
<td align="left">Data similarity</td>
<td align="left">Data checksum</td>
</tr>
<tr>
<td align="left"><strong>Input:</strong></td>
<td align="left">Metadata</td>
<td align="left">Extracted  content</td>
<td align="left">Raw data</td>
<td align="left">Raw data</td>
</tr>
<tr>
<td align="left"><strong>Algorithms:</strong></td>
<td align="left">Similarity Hash</td>
<td align="left">Type specific</td>
<td align="left"><abbr title="Content defined chunking">CDC</abbr>, Similarity Hash</td>
<td align="left"><abbr title="Content defined chunking">CDC</abbr>, Hash Tree</td>
</tr>
<tr>
<td align="left"><strong>Size:</strong></td>
<td align="left">64 bits</td>
<td align="left">64 bits</td>
<td align="left">64 bits</td>
<td align="left">64 bits</td>
</tr>
</tbody>
</table>
<p>Each component is guaranteed to fit into a 64-bit unsigned integer value. The components may be used independently by applications for various purposes but must be combined into a 52 <abbr title="A character is defined as one Unicode code point">character</abbr> string (55 with hyphens) for a fully qualified ISCC code. The components must be combined in the fixed order of Meta-ID, Content-ID, Data-ID, Instance-ID and may be separated by hyphens.</p>
<div class="admonition todo">
<p class="admonition-title">Todo</p>
<p>Describe coded format with prefix, colon, components +- hyphens</p>
</div>
<h3 id="component-types">Component types<a class="headerlink" href="#component-types" title="Permanent link">&para;</a></h3>
<p>Each component has the same basic structure of a 1-byte header and a 7-byte main section<sup id="fnref:component-length"><a class="footnote-ref" href="#fn:component-length" rel="footnote">2</a></sup>. Each component can thus be fit into a 64-bit integer value. The header-byte of each component is subdivided into 2 nibbles (4 bits). The first nibble specifies the component type while the second nibble is component specific.</p>
<table>
<thead>
<tr>
<th align="left">Component</th>
<th align="left">Nibble-1</th>
<th align="left">Nibble-2</th>
<th align="left">Byte</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><em>Meta-ID</em></td>
<td align="left">0000</td>
<td align="left">0000 - ISCC version (0)</td>
<td align="left">0x00</td>
</tr>
<tr>
<td align="left"><em>Content-ID</em></td>
<td align="left">0001</td>
<td align="left">0000 - ContentType Text (0)</td>
<td align="left">0x10</td>
</tr>
<tr>
<td align="left"><em>Data-ID</em></td>
<td align="left">0010</td>
<td align="left">0000 - Reserved</td>
<td align="left">0x20</td>
</tr>
<tr>
<td align="left"><em>Instance-ID</em></td>
<td align="left">0011</td>
<td align="left">0000 - Reserved</td>
<td align="left">0x30</td>
</tr>
</tbody>
</table>
<h2 id="meta-id">Meta-ID<a class="headerlink" href="#meta-id" title="Permanent link">&para;</a></h2>
<p>The Meta-ID is built from minimal and generic metadata of the content to be identified. All <em>text</em> information supplied to the META-ID generating function is assumed to be UTF-8 encoded. Errors during decoding the bytestring input to a native Unicode must terminate the process and should not be silenced. An ISCC generating application must provide a <code>generate_meta_id</code> function that accepts the following input fields:</p>
<table>
<thead>
<tr>
<th align="left">Name</th>
<th align="left">Type</th>
<th align="left">Required</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><em>title</em></td>
<td align="left">text</td>
<td align="left">Yes</td>
<td align="left">The title of an intangible creation.</td>
</tr>
<tr>
<td align="left"><em>creators</em><sup id="fnref:creators"><a class="footnote-ref" href="#fn:creators" rel="footnote">3</a></sup></td>
<td align="left">text</td>
<td align="left">No</td>
<td align="left">One or more semicolon separated names of the original creators of the content.</td>
</tr>
<tr>
<td align="left"><em>extra</em></td>
<td align="left">text</td>
<td align="left">No</td>
<td align="left">A short statement that distinguishes this intangible creation from another one.</td>
</tr>
<tr>
<td align="left">version</td>
<td align="left">integer</td>
<td align="left">No</td>
<td align="left">ISCC version number.</td>
</tr>
</tbody>
</table>
<p>The <code>generate_meta_id</code> function must return a valid base32 encoded Meta-ID component without padding.</p>
<h3 id="generate-meta-id">Generate Meta-ID<a class="headerlink" href="#generate-meta-id" title="Permanent link">&para;</a></h3>
<p>An ISCC generating application must follow these steps in the given order to produce a stable Meta-ID:</p>
<ol>
<li>Apply Unicode standard <a href="http://www.unicode.org/reports/tr15/#Norm_Forms">Normalization Form KC (NFKC)</a> separately to all text input values.</li>
<li>Remove all pairs of brackets  <code>[]</code>,  <code>()</code>,  <code>{}</code>, and text inbetween them from <code>title</code> and <code>creators</code> fields.</li>
<li>Trim all text fields, such that their UTF-8 encoded byte representation does not exceed 128-bytes each. The trim point must be such, that it does not cut into multibyte characters. The results of this operation will later be stored as base metadata on the blockchain.</li>
<li>Cut all text after the first occurence of a semicolon (<code>;</code>) if that semicolon is after the first 25 characters of text.</li>
<li>Trim each normalized input value to its first 128 characters.</li>
<li>Apply <a href="#normalize-text"><code>normalize_text</code></a> to the trimmed <code>title</code> input value.</li>
<li>Apply <a href="#normalize-creators"><code>normalize_creators</code></a> to the trimmed <code>creators</code> input value.</li>
<li>Apply <a href="#normalize-text"><code>normalize_text</code></a> to the trimmed <code>extra</code> input value.</li>
<li>Concatenate the results of step 3, 4 and 5 in ascending order.</li>
<li>Create a list of 4 <abbr title="A character is defined as one Unicode code point">character</abbr> <a href="https://en.wikipedia.org/wiki/N-gram">n-grams</a> by sliding <abbr title="A character is defined as one Unicode code point">character</abbr>-wise through the result of step 6.</li>
<li>Encode each n-gram from step 7 to an UTF-8 bytestring and calculate its sha256 digest.</li>
<li>Apply <code>simhash</code> to the list sha256 digests from step 8.</li>
<li>Trim the resulting byte sequence to the first 7 bytes.</li>
<li>Prepend the 1-byte component header according to component type and ISCC version (e.g. <code>0x00</code>).</li>
<li>Encode the resulting 8 byte sequence with base32 (no-padding) and return the result.</li>
</ol>
<h3 id="dealing-with-collisions">Dealing with collisions<a class="headerlink" href="#dealing-with-collisions" title="Permanent link">&para;</a></h3>
<p>Ideally we want multiple ISCCs that identify different manifestations of the <em>same intangible creation</em> to be automatically grouped by an identical leading Meta-ID component. We call such a natural grouping an <strong>intended collision</strong>. Metadata, captured and edited by humans, is notoriously unreliable. By using normalization and a similarity hash on the metadata we account for some of this variation while keeping the Meta-ID component stable. </p>
<p>Auto-generated Meta-IDs components are <strong>expected</strong> to miss some intended collisions. An application should check for such <strong>missed intended collisions</strong> before registering a new Meta-ID with the <em>canonical registry</em> of ISCCs by conducting a similarity search and asking for user feedback.</p>
<p>But what about <strong>unintended collisions</strong>? Such collisions might happen because two <em>different intangible creations</em> have very similar or even identical metadata. But they might also happen simply by chance. With 2^56 possibile Meta-ID components the probability of random collisions rises in an S-cuved shape with the number of deployed ISCCs (see: <a href="http://preshing.com/20110504/hash-collision-probabilities/">Hash Collision Probabilities</a>).  We should keep in mind that, the Meta-ID component is only one part of an ISCC. Sporadic unintended collisions of the Meta-ID component are generally deemed as <strong>acceptable and expected</strong>. </p>
<p>If for any reason an application wants to avoid unintended collisions with pre-existing Meta-ID components it may utilze the <code>extra</code>-field. An application must first generate a Meta-ID without asking the user for input to the <code>extra</code>-field and then first check for collisions with the <em>canonical registry</em> of ISCCs. After it finds a collision with a pre-existing Meta-ID it may display the metadata of the colliding entry and interact with the user to determine if it indeed is an unintended collision. Only if the user indicates an unintended collision, may the application ask for a disambiguation that is than added as an ammendment to the metadata via the <code>extra</code>-field to create a different Meta-ID component. The application may repeat the pre-existence check until it finds no collision or a user intended collision. The application must not supply autogenerated input to the <code>extra</code>-field.</p>
<p>It is our opinion that the concept of <strong>intended collisions</strong> of Meta-ID components is generally usefull concept and a net positive. But one must be aware that this characteristic also has its pitfalls. It is by no means an attempt to provide an unambigous - agreed upon - definition of <em>"identical intangible creations"</em>.</p>
<h2 id="content-id">Content-ID<a class="headerlink" href="#content-id" title="Permanent link">&para;</a></h2>
<p>The Content-ID component has multiple subtypes. Except for the <em>mixed type</em> all subtypes correspond with the <strong>Generic Media Types</strong>. A fully qualified ISCC can only have a Content-ID component of one specific type, but there can be multiple ISCCs with different Content-ID types per digital media object.</p>
<p>A Content-ID is generated in two broad steps. In the first step, we extract and convert content from a rich media type to a normalized <abbr title="Generic Media Type">GMT</abbr>. In the second step, we use a <abbr title="Generic Media Type">GMT</abbr>-specific process to generate the Content-ID component of an ISCC. </p>
<h4 id="content-id-types">Content-ID Types<a class="headerlink" href="#content-id-types" title="Permanent link">&para;</a></h4>
<p>The  Content-ID type is signaled by the first 3 bits of the second nibble of the first byte of the Content-ID:</p>
<table>
<thead>
<tr>
<th align="left">Conent-ID Type</th>
<th align="left">Nibble-2 Bits 0-3</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">text</td>
<td align="left">000</td>
</tr>
<tr>
<td align="left">image</td>
<td align="left">001</td>
</tr>
<tr>
<td align="left">audio</td>
<td align="left">010</td>
</tr>
<tr>
<td align="left">video</td>
<td align="left">011</td>
</tr>
<tr>
<td align="left">mixed</td>
<td align="left">100</td>
</tr>
<tr>
<td align="left">Reserved</td>
<td align="left">101, 110, 111</td>
</tr>
</tbody>
</table>
<h4 id="partial-content-flag-pcf">Partial Content Flag (<abbr title="Partial Content Flag">PCF</abbr>)<a class="headerlink" href="#partial-content-flag-pcf" title="Permanent link">&para;</a></h4>
<p>The last bit of the header byte is the "Partial Content Flag". It designates if the Content-ID applies to the full content or just some part of it. The <abbr title="Partial Content Flag">PCF</abbr> must be set as a <code>0</code>-bit (full <abbr title="Generic Media Type">GMT</abbr>-specific content) by default. Setting the <abbr title="Partial Content Flag">PCF</abbr> to <code>1</code> enables applications to create multiple ISCCs for partial extracts of one and the same digital file. The exact semantics of <em>partial content</em> are outside of the scope of this specification. Applications that plan to support partial Content-IDs should clearly define their semantics. For example, an application might create separate ISCC for the text contents of multiple articles of a magazine issue. In such a scenario
the Meta-, Data-, and Instance-IDs are the compound key for the magazine issue, while the Content-ID-Text component distinguishes the different articles of the issue. The different Content-ID-Text components would automatically be "bound" together by the other 3 components.</p>
<h4 id="content-id-text">Content-ID-Text<a class="headerlink" href="#content-id-text" title="Permanent link">&para;</a></h4>
<p>The Content-ID-Text is built from the extracted plain-text content of an encoded media object. To build a stable Content-ID-Text the plain text content must be extracted in a way that is reproducible. To make this possible we specify that the plain-text content must be extracted with <a href="https://tika.apache.org/">Apache Tika v1.16</a>.</p>
<h2 id="data-id">Data-ID<a class="headerlink" href="#data-id" title="Permanent link">&para;</a></h2>
<p>The Data-ID is built from the raw encoded data of the content to be identified. An ISCC generating application must provide a <code>generate_data_id</code> function that accepts the raw encoded data as input. Generate a Data-ID by this procedure:</p>
<ol>
<li>Apply <code>chunk_data</code> to the raw encoded content data</li>
<li>For each chunk calculate the sha256 digest</li>
<li>Apply <code>minhash</code> with 256 permutations to the resulting list of digests</li>
<li>Take the lowest bit from each minhash value and concatenate them to a 256 string</li>
<li>Trim the resulting byte sequence to the first 7 bytes.</li>
<li>Prepend the 1-byte component header (e.g. 0x20).</li>
<li>Encode the resulting 8-byte sequence with base32 (no-padding) and return the result</li>
</ol>
<h2 id="instance-id">Instance-ID<a class="headerlink" href="#instance-id" title="Permanent link">&para;</a></h2>
<p>The Instance-ID is built from the raw data of the media object to be identified and serves as basic checksum for the media object. The raw data of the media object is split into data-chunks. Then we build a hash-tree from those chunks and use the truncated top-hash for the Instance-ID:</p>
<p><img alt="iscc-creation-instance-id" src="../images/iscc-creation-instance-id.svg" /></p>
<p>An ISCC generating application must provide a <code>generate_instance_id</code> function that accepts the raw data file as input and returns an encoded Instance-ID. Generate an Instance-ID by this procedure:</p>
<ol>
<li>Apply <code>chunk_data</code> to the raw bytes of the encoded media object.</li>
<li>For each chunk calculate the sha256d<sup id="fnref:sha256d"><a class="footnote-ref" href="#fn:sha256d" rel="footnote">4</a></sup> digest of the concatenation of a <code>0x00</code>-byte and the chunk bytes. We call the resulting values <em>leaf node hashes</em> (<abbr title="Leaf Node Hash">LNH</abbr>).</li>
<li>Calculate the next level of the hash tree by applying sha256d to the concatenation of a <code>0x01</code>-byte and adjacent pairs of <abbr title="Leaf Node Hash">LNH</abbr> values. If the length of the list of <abbr title="Leaf Node Hash">LNH</abbr> values is uneven concatenate the last <abbr title="Leaf Node Hash">LNH</abbr> value with itself. We call the resulting values <em>internal node hashes</em> (<abbr title="Internal Node Hash">INH</abbr>).</li>
<li>Recursively apply <code>0x01</code>-prefixed pairwise hashing to the results of  step 3 until the process yields only one hash value. We call this value the <em>top hash</em><sup id="fnref:tophash"><a class="footnote-ref" href="#fn:tophash" rel="footnote">5</a></sup>.</li>
<li>Trim the resulting <em>top hash</em> to the first 7 bytes.</li>
<li>Prepend the 1-byte component header (e.g. <code>0x30</code>).</li>
<li>Encode the resulting 8-byte sequence with base32 (no-padding) and return the result.</li>
</ol>
<p>Applications may carry, store, and process the full hash-tree for advanced partial data integrity verification.</p>
<h2 id="procedures-algorithms">Procedures &amp; Algorithms<a class="headerlink" href="#procedures-algorithms" title="Permanent link">&para;</a></h2>
<h3 id="normalize-text">Normalize Text<a class="headerlink" href="#normalize-text" title="Permanent link">&para;</a></h3>
<p>We define a text normalization function that is specific to our application. It takes unicode text as an input and returns <em>normalized</em> Unicode text for further algorithmic processing. We reference this function by the name <code>normalize_text</code>. The <code>normalize_text</code> function performs the following operations in the given order while each step works with the results of the previous operation:</p>
<ol>
<li>Decompose the input text by applying <a href="http://www.unicode.org/reports/tr15/#Norm_Forms">Unicode Normalization Form D (NFD)</a>.</li>
<li>Replace each group of one or more consecutive <code>Separator</code> characters (<a href="https://en.wikipedia.org/wiki/Unicode_character_property">Unicode categories</a> Zs, Zl and Zp) with exactly one Unicode <code>SPACE</code> <abbr title="A character is defined as one Unicode code point">character</abbr> (<code>U+0020</code>) .</li>
<li>Remove any leading or trailing <code>Separator</code> characters.</li>
<li>Remove each <abbr title="A character is defined as one Unicode code point">character</abbr> that is not in one of the Unicode categories <code>Separator</code> , <code>Letter</code>, <code>Number</code> or <code>Symbol</code>.</li>
<li>Convert all characters to their lower case</li>
<li>Re-Compose the text by applying <code>Unicode Normalization Form C (NFC)</code>.</li>
<li>Return the resulting text</li>
</ol>
<h3 id="normalize-creators">Normalize Creators<a class="headerlink" href="#normalize-creators" title="Permanent link">&para;</a></h3>
<div class="admonition todo">
<p class="admonition-title">Todo</p>
<p>Specify <code>normalize_creator</code> function</p>
</div>
<h3 id="tokenize-text">Tokenize Text<a class="headerlink" href="#tokenize-text" title="Permanent link">&para;</a></h3>
<div class="admonition todo">
<p class="admonition-title">Todo</p>
<p>Specify <code>tokenize_text</code> function</p>
</div>
<h2 id="footnotes">Footnotes<a class="headerlink" href="#footnotes" title="Permanent link">&para;</a></h2>
<div class="footnote">
<hr />
<ol>
<li id="fn:base32">
<p><strong>Base Encoding:</strong> The final base encoding of this specification might change before version 1. Base32 was chosen because it is a widely accepted standard and has implementations in most popular programming languages. It is url safe, case insensitive and encodes the ISCC octets to a fixed size alphanumeric string. The predictable size of the encoding is a property that we need for composition and decomposition of components without having to rely on a delimiter (hyphen) in the ISCC code representation. We might change to a non standard base62, mixed case encoding to create shorter ISCC codes before the final version 1 specification.&#160;<a class="footnote-backref" href="#fnref:base32" rev="footnote" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:component-length">
<p><strong>Components structure:</strong> We might switch to a different base structure for components. For example we might use a variable length header and a bigger 8-byte body. The header would only be carried in the encoded representation and applications could use full 64-bit space per component. As similarity searches accross different components make no sense, the type information contained in the header of each component can be safely ignored after an ISCC has been decomposed and internaly typed by an application.&#160;<a class="footnote-backref" href="#fnref:component-length" rev="footnote" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
<li id="fn:creators">
<p><strong>Meta-ID creators field:</strong> We have tested multiple normalization strategies for <em>creators</em> metadata and it works fairly well. The optional <code>creators</code>-field is a strong discriminator when dealing with similar title texts. But our tests indicate that the main problem for a generic conent identifier is in the semantic ambiguity of the <code>creators</code>-field accross industries. For example, who would you list as the creators of a movie, the directors, writers, main actors? Would you list some of them or if not how do you decide whom you will list. We will do some more evaluation and might remove the <code>creators</code>-field altogether for the final version 1 specification. All disambiguation of similar title data would then have to move to the <code>extra</code>-field.&#160;<a class="footnote-backref" href="#fnref:creators" rev="footnote" title="Jump back to footnote 3 in the text">&#8617;</a></p>
</li>
<li id="fn:sha256d">
<p><strong>Instance-ID data integrity:</strong>  To guard against length-extension attacks and second pre-image attacks we use double sha256 for hashing. We also prefix the hash input data with a <code>0x00</code>-byte for the leaf nodes hashes and with a <code>0x01</code>-byte for the  internal node hashes.&#160;<a class="footnote-backref" href="#fnref:sha256d" rev="footnote" title="Jump back to footnote 4 in the text">&#8617;</a></p>
</li>
<li id="fn:tophash">
<p><strong>Instance-ID binding:</strong> We might add an additional step to the final Instance-ID component by hashing the concatenation of the preceeding components and the <strong>top-hash</strong>. This would bind the Instance-ID to the other components. But this would also chainge its semantics to encode integrity of data and metadata together.&#160;<a class="footnote-backref" href="#fnref:tophash" rev="footnote" title="Jump back to footnote 5 in the text">&#8617;</a></p>
</li>
</ol>
</div>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../concept/" title="Concept" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Concept
              </span>
            </div>
          </a>
        
        
          <a href="../contributing/" title="Contributing" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Contributing
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright © 2016-2017, Content Blockchain Project
          </div>
        
        powered by
        <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
        and
        <a href="http://squidfunk.github.io/mkdocs-material/" title="Material for MkDocs">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
      <a href="https://github.com/coblo" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://content-blockchain.org" class="md-footer-social__link fa fa-home"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application-c35428f87f.js"></script>
      
      
      <script>app.initialize({url:{base:".."}})</script>
      
    
    
      
    
  </body>
</html>